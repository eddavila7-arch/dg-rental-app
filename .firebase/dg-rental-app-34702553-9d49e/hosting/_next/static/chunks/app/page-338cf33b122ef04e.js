(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8183:function(e,r,o){Promise.resolve().then(o.bind(o,5303))},5303:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return y}});var t,a,s,n,l=o(3827),i=o(9102),d=o.n(i),c=o(4090),p=o(6142),x=o(1936),b=o(3019),f=o(8701);let m=(0,p.C6)().length?(0,p.Mq)():(0,p.ZF)({apiKey:"AIzaSyBqNnhaEYVoiW6qyeMOG_l1bzC-RCDVJZk",authDomain:"dg-rental-app-34702553-9d49e.firebaseapp.com",projectId:"dg-rental-app-34702553-9d49e",storageBucket:"dg-rental-app-34702553-9d49e.appspot.com",messagingSenderId:"906641049867",appId:"1:906641049867:web:b47f40b60b9cd68277fa0e"}),g=(0,b.ad)(m),u=(0,f.cF)(m);(0,x.v0)(m),(t=s||(s={})).Rentado="Rentado",t.Disponible="Disponible",t.Taller="Taller",t.Prestada="Prestada",(a=n||(n={})).AlCorriente="Al Corriente",a.Adeudo="Adeudo";let h=e=>e>=new Date().getFullYear()?"Al Corriente":"Adeudo",w=e=>{var r;let{unit:o}=e,[t,a]=(0,c.useState)(null),[i,d]=(0,c.useState)(0);return(0,l.jsxs)("div",{style:{border:"1px solid #D4AF37",padding:"20px",borderRadius:"10px",backgroundColor:"#1A1A1A",boxShadow:"0 6px 10px rgba(212,175,55,0.15)",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsx)("h2",{style:{margin:0,fontSize:"1.4rem"},children:o.id}),(0,l.jsxs)("div",{style:{padding:"5px 10px",borderRadius:"5px",backgroundColor:(r=o.margenUtilidad)>=50?"#4CAF50":r>=30?"#FFC107":"#FF6347",color:"#000",fontWeight:"bold"},children:[o.margenUtilidad,"%"]})]}),(0,l.jsx)("p",{style:{fontSize:"1.2rem",fontWeight:"bold",margin:"10px 0",borderTop:"1px solid #444",paddingTop:"10px"},children:o.marca}),(0,l.jsxs)("p",{children:["Propietario: ",o.propietario]}),(0,l.jsxs)("p",{children:["Placas: ",o.placas]}),(0,l.jsxs)("p",{children:["A\xf1o de Refrendo: ",o.refrendo]}),(0,l.jsxs)("p",{children:["Estatus: ",(0,l.jsx)("span",{style:{color:(e=>{switch(e){case s.Disponible:return"#28a745";case s.Rentado:return"#dc3545";case s.Taller:return"#ffc107";default:return"#D4AF37"}})(o.status),fontWeight:"bold"},children:o.status})]})]}),o.status===s.Rentado&&(0,l.jsx)("div",{style:{marginTop:"15px"},children:o.contratoPdfUrl?(0,l.jsx)("a",{href:o.contratoPdfUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"block",padding:"10px",backgroundColor:"#007BFF",color:"white",textAlign:"center",borderRadius:"5px",textDecoration:"none",fontWeight:"bold"},children:"Ver Contrato"}):(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"file",onChange:e=>{e.target.files&&a(e.target.files[0])},style:{color:"#D4AF37",backgroundColor:"#333",border:"1px solid #D4AF37",borderRadius:"5px",padding:"5px",width:"100%",boxSizing:"border-box"}}),t&&(0,l.jsx)("button",{onClick:()=>{if(t){if("application/pdf"!==t.type){alert("Solo se permiten archivos PDF");return}let e=(0,f.iH)(u,"contracts/".concat(o.id,"/").concat(t.name)),r=(0,f.B0)(e,t);r.on("state_changed",e=>{d(e.bytesTransferred/e.totalBytes*100)},e=>{console.error("Upload failed",e)},()=>{(0,f.Jt)(r.snapshot.ref).then(e=>{let t=(0,b.JU)(g,"units",o.id);(0,b.r7)(t,{contratoPdfUrl:e,contratoPdfPath:r.snapshot.ref.fullPath}),a(null)})})}},style:{width:"100%",padding:"10px",marginTop:"10px",backgroundColor:"#D4AF37",color:"#000",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer"},children:"Subir Contrato"}),i>0&&(0,l.jsx)("progress",{value:i,max:"100",style:{width:"100%",marginTop:"10px"}})]})}),h(o.refrendo)===n.Adeudo&&(0,l.jsx)("div",{style:{backgroundColor:"#B22222",color:"#FFF",padding:"12px",textAlign:"center",fontWeight:"bold",marginTop:"20px",borderRadius:"5px",fontSize:"1.1rem",animation:"pulse 1.5s infinite"},children:"⚠️ REFRENDO PENDIENTE"})]})},j=e=>{let{filter:r,setFilter:o,status:t,text:a}=e;return(0,l.jsx)("button",{onClick:()=>o(t),style:{background:r===t?"#D4AF37":"transparent",color:r===t?"#000":"#D4AF37",border:"1px solid #D4AF37",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",fontSize:"1rem",margin:"0 5px",transition:"background 0.3s, color 0.3s"},children:a})};function y(){let[e,r]=(0,c.useState)([]),[o,t]=(0,c.useState)(null);(0,c.useEffect)(()=>{let e=(0,b.cf)((0,b.hJ)(g,"units"),e=>{r(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>e()},[]);let a=o?e.filter(e=>e.status===o):e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d(),{id:"c0c1cdcc3e0ccb26",children:"@-webkit-keyframes pulse{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-box-shadow:0 0 0 0 rgba(178,34,34,.7);box-shadow:0 0 0 0 rgba(178,34,34,.7)}70%{-webkit-transform:scale(1.02);transform:scale(1.02);-webkit-box-shadow:0 0 10px 15px rgba(178,34,34,0);box-shadow:0 0 10px 15px rgba(178,34,34,0)}100%{-webkit-transform:scale(1);transform:scale(1);-webkit-box-shadow:0 0 0 0 rgba(178,34,34,0);box-shadow:0 0 0 0 rgba(178,34,34,0)}}@-moz-keyframes pulse{0%{-moz-transform:scale(1);transform:scale(1);-moz-box-shadow:0 0 0 0 rgba(178,34,34,.7);box-shadow:0 0 0 0 rgba(178,34,34,.7)}70%{-moz-transform:scale(1.02);transform:scale(1.02);-moz-box-shadow:0 0 10px 15px rgba(178,34,34,0);box-shadow:0 0 10px 15px rgba(178,34,34,0)}100%{-moz-transform:scale(1);transform:scale(1);-moz-box-shadow:0 0 0 0 rgba(178,34,34,0);box-shadow:0 0 0 0 rgba(178,34,34,0)}}@-o-keyframes pulse{0%{-o-transform:scale(1);transform:scale(1);box-shadow:0 0 0 0 rgba(178,34,34,.7)}70%{-o-transform:scale(1.02);transform:scale(1.02);box-shadow:0 0 10px 15px rgba(178,34,34,0)}100%{-o-transform:scale(1);transform:scale(1);box-shadow:0 0 0 0 rgba(178,34,34,0)}}@keyframes pulse{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);-webkit-box-shadow:0 0 0 0 rgba(178,34,34,.7);-moz-box-shadow:0 0 0 0 rgba(178,34,34,.7);box-shadow:0 0 0 0 rgba(178,34,34,.7)}70%{-webkit-transform:scale(1.02);-moz-transform:scale(1.02);-o-transform:scale(1.02);transform:scale(1.02);-webkit-box-shadow:0 0 10px 15px rgba(178,34,34,0);-moz-box-shadow:0 0 10px 15px rgba(178,34,34,0);box-shadow:0 0 10px 15px rgba(178,34,34,0)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);-webkit-box-shadow:0 0 0 0 rgba(178,34,34,0);-moz-box-shadow:0 0 0 0 rgba(178,34,34,0);box-shadow:0 0 0 0 rgba(178,34,34,0)}}"}),(0,l.jsxs)("div",{style:{backgroundColor:"#000",color:"#D4AF37",minHeight:"100vh",padding:"40px",fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},className:"jsx-c0c1cdcc3e0ccb26",children:[(0,l.jsxs)("header",{style:{borderBottom:"2px solid #D4AF37",marginBottom:"30px",paddingBottom:"20px",textAlign:"center"},className:"jsx-c0c1cdcc3e0ccb26",children:[(0,l.jsx)("h1",{style:{fontSize:"3rem",margin:0,fontWeight:700,letterSpacing:"1px"},className:"jsx-c0c1cdcc3e0ccb26",children:"DG RENTAL SOLUTIONS"}),(0,l.jsx)("p",{style:{fontStyle:"italic",color:"#FFF",fontSize:"1.2rem"},className:"jsx-c0c1cdcc3e0ccb26",children:'"Driven by Service. Delivered with Excellence."'})]}),(0,l.jsxs)("div",{style:{marginBottom:"30px",textAlign:"center"},className:"jsx-c0c1cdcc3e0ccb26",children:[(0,l.jsx)(j,{filter:o,setFilter:t,status:null,text:"Toda la Flota"}),(0,l.jsx)(j,{filter:o,setFilter:t,status:s.Disponible,text:"Disponibles"}),(0,l.jsx)(j,{filter:o,setFilter:t,status:s.Rentado,text:"Rentados"}),(0,l.jsx)(j,{filter:o,setFilter:t,status:s.Taller,text:"En Taller"})]}),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"25px"},className:"jsx-c0c1cdcc3e0ccb26",children:a.map(e=>(0,l.jsx)(w,{unit:e},e.id))}),(0,l.jsx)("footer",{style:{marginTop:"60px",paddingTop:"20px",borderTop:"1px solid #444",textAlign:"center",fontSize:"1rem",color:"#888"},className:"jsx-c0c1cdcc3e0ccb26",children:"DG Rental Solutions | Grupo D\xe1vila | Garc\xeda, Nuevo Le\xf3n"})]})]})}}},function(e){e.O(0,[117,429,385,971,69,744],function(){return e(e.s=8183)}),_N_E=e.O()}]);